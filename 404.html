<!doctype html>
<html lang="ar" dir="rtl" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø¨Ø­Ø« Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        * {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .loader {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #FFD700;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #000000;
            padding: 12px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            z-index: 1000;
            animation: slideUp 0.3s ease-out;
            font-weight: bold;
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translate(-50%, 20px);
            }
            to {
                opacity: 1;
                transform: translate(-50%, 0);
            }
        }
        
        .suggestions-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: #1a1a1a;
            border: 2px solid #FFD700;
            border-top: none;
            border-radius: 0 0 8px 8px;
            max-height: 300px;
            overflow-y: auto;
            z-index: 100;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }
        
        .suggestion-item {
            padding: 12px 16px;
            cursor: pointer;
            color: #FFD700;
            border-bottom: 1px solid #333;
            transition: all 0.2s;
        }
        
        .suggestion-item:hover {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #000000;
        }
        
        .suggestion-item:last-child {
            border-bottom: none;
        }
        
        .table-row {
            transition: all 0.2s;
        }
        
        .table-row:hover {
            background: #2a2a2a !important;
            transform: scale(1.01);
        }
        
        .filter-toggle {
            cursor: pointer;
            user-select: none;
            transition: all 0.3s;
        }
        
        .filter-toggle:hover {
            opacity: 0.8;
        }
        
        .arrow {
            display: inline-block;
            transition: transform 0.3s;
        }
        
        .arrow.rotated {
            transform: rotate(180deg);
        }
        
        .info-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #000000;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            transition: all 0.2s;
            border: 2px solid #FFD700;
        }
        
        .info-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        
        .info-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 20px;
        }
        
        .info-modal-content {
            background: #1a1a1a;
            border: 2px solid #FFD700;
            border-radius: 12px;
            padding: 24px;
            max-width: 500px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }
        
        .info-close {
            position: absolute;
            top: 12px;
            left: 12px;
            background: #FFD700;
            color: #000000;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
            font-size: 20px;
            transition: all 0.2s;
        }
        
        .info-close:hover {
            background: #FFA500;
            transform: rotate(90deg);
        }
        
        .info-section {
            margin-bottom: 16px;
            padding: 12px;
            background: #0f0f0f;
            border-radius: 8px;
            border-right: 4px solid #FFD700;
        }
        
        .info-title {
            color: #FFD700;
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 8px;
        }
        
        .info-text {
            color: #FFD700;
            line-height: 1.6;
        }
        
        .info-highlight {
            color: #FFA500;
            font-weight: bold;
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full">
  <div class="h-full w-full overflow-auto" style="background: #000000;"><!-- Connection Status - Top Right Corner -->
   <div style="position: fixed; top: 16px; right: 16px; z-index: 1000;">
    <div class="flex items-center gap-2 px-3 py-2 rounded-lg" style="background: rgba(26, 26, 26, 0.95); border: 1px solid #FFD700;">
     <div id="connectionIndicator" class="w-2 h-2 rounded-full bg-gray-500"></div><span id="connectionStatus" class="text-sm" style="color: #FFD700;">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„...</span>
    </div>
   </div>
   <div class="min-h-full py-8 px-4">
    <div class="max-w-6xl mx-auto"><!-- Header -->
     <div class="text-center mb-8"><img src="https://i.top4top.io/p_35860o72q1.png" alt="Ø¨Ø­Ø« Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª" class="mx-auto mb-4" style="max-width: 500px; width: 100%; height: auto;" loading="lazy" onerror="console.error('Image failed to load:', this.src); this.style.display='none'; document.getElementById('fallbackTitle').style.display='block';">
      <div id="fallbackTitle" style="display: none;">
       <h1 class="text-4xl font-bold mb-2" style="color: #FFD700;">Ø¨Ø­Ø« Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª</h1>
       <p style="color: #FFD700;">Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ø­Ø³Ø¨ Ø§Ù„Ù…Ù‚Ø§Ø³</p>
      </div>
     </div><!-- Loading Screen -->
     <div id="initialLoading" class="rounded-lg shadow-2xl p-12 mb-8 border-2 text-center" style="background: #1a1a1a; border-color: #FFD700;">
      <div class="flex flex-col items-center gap-4">
       <div class="loader"></div>
       <p class="text-xl font-bold" style="color: #FFD700;">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</p>
       <p class="text-sm" style="color: #FFD700; opacity: 0.8;">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</p>
      </div>
     </div><!-- Search Box -->
     <div id="searchBox" class="hidden rounded-lg shadow-2xl p-6 mb-8 border-2 relative" style="background: #1a1a1a; border-color: #FFD700;">
      <div class="flex gap-4 relative">
       <div class="flex-1 relative"><input type="text" id="searchInput" placeholder="Ø£Ø¯Ø®Ù„ Ù…Ù‚Ø§Ø³ Ø§Ù„Ø¥Ø·Ø§Ø± (Ù…Ø«Ø§Ù„: 215/55R17)" class="w-full px-4 py-3 rounded-lg text-lg border-2 focus:outline-none" style="background-color: #000000; color: #FFD700; border-color: #FFD700;" autocomplete="off">
        <div id="suggestionsDropdown" class="suggestions-dropdown hidden"></div>
       </div><button id="searchButton" class="px-8 py-3 rounded-lg font-bold text-black text-lg hover:opacity-90 transition-opacity" style="background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);"> Ø¨Ø­Ø« </button>
      </div>
      <div id="loadingIndicator" class="hidden mt-4 flex justify-center">
       <div class="loader"></div>
      </div>
      <div id="errorMessage" class="hidden mt-4 p-4 bg-red-900 text-white rounded-lg"></div>
     </div><!-- Brand Filter -->
     <div id="brandFilterContainer" class="hidden mb-6">
      <div class="rounded-lg shadow-xl border" style="background: #1a1a1a; border-color: #FFD700;">
       <div class="filter-toggle p-4 flex items-center justify-between" id="filterToggle"><span class="font-bold" style="color: #FFD700;">Ø§Ù„Ù…Ø§Ø±ÙƒØ©</span> <span class="arrow" style="color: #FFD700;">â–¼</span>
       </div>
       <div id="filterContent" class="hidden p-4 pt-0">
        <div id="brandCheckboxes" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2" style="max-height: 200px; overflow-y: auto;"><!-- Checkboxes will be inserted here -->
        </div>
       </div>
      </div>
     </div><!-- Results -->
     <div id="resultsContainer" class="hidden">
      <div class="rounded-lg shadow-2xl overflow-hidden border-2" style="background: #1a1a1a; border-color: #FFD700;">
       <div class="p-4" style="background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);">
        <h2 class="text-2xl font-bold text-black">Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h2>
        <p id="resultsCount" class="text-black mt-1"></p>
       </div>
       <div class="overflow-x-auto">
        <table class="w-full">
         <thead>
          <tr style="background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%); color: #FFD700;">
           <th class="px-4 py-3 text-right border-b" style="border-color: #333;">Ø§Ù„Ù…Ø§Ø±ÙƒØ©</th>
           <th class="px-4 py-3 text-right border-b" style="border-color: #333;">Ø§Ù„Ù…Ù‚Ø§Ø³</th>
           <th class="px-4 py-3 text-right border-b" style="border-color: #333;">Ø§Ù„Ù†Ù‚Ø´Ø©</th>
           <th class="px-4 py-3 text-right border-b" style="border-color: #333;">Ø¨Ù„Ø¯ Ø§Ù„ØµÙ†Ø¹</th>
           <th class="px-4 py-3 text-right border-b" style="border-color: #333;">Ø³Ù†Ø© Ø§Ù„ØµÙ†Ø¹</th>
           <th class="px-4 py-3 text-right border-b" style="border-color: #333;">Ø§Ù„Ø³Ø¹Ø± (Ø¯.Ùƒ)</th>
           <th class="px-4 py-3 text-center border-b" style="border-color: #333;">Ù†Ø³Ø®</th>
          </tr>
         </thead>
         <tbody id="resultsTableBody" style="color: #FFD700;"><!-- Results will be inserted here -->
         </tbody>
        </table>
       </div>
      </div>
     </div><!-- No Results -->
     <div id="noResults" class="hidden rounded-lg shadow-2xl p-8 text-center border-2" style="background: #1a1a1a; border-color: #FFD700;">
      <p class="text-xl" style="color: #FFD700;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ù‚Ø§Ø³</p>
     </div>
    </div>
   </div>
  </div>
  <script>
        // Ù…ØµÙÙˆÙØ© Ø¹Ø§Ù…Ø© Ù„ØªØ®Ø²ÙŠÙ† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª
        window.tireInfoData = [];
        
        // Ø¯Ø§Ù„Ø© Ø¹Ø§Ù…Ø© Ù„Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
        window.showInfoModal = function(index) {
            const data = window.tireInfoData[index];
            if (!data) return;
            
            const { info, sizeText, displaySize, pattern } = data;
            
            // Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© Ù…ÙˆØ¬ÙˆØ¯Ø©
            const existingModal = document.querySelector('.info-modal');
            if (existingModal) {
                existingModal.remove();
            }
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
            const modal = document.createElement('div');
            modal.className = 'info-modal';
            
            let content = '<div class="info-modal-content">';
            content += '<div class="info-close" onclick="this.closest(\'.info-modal\').remove()">Ã—</div>';
            content += '<h2 class="text-2xl font-bold mb-4" style="color: #FFD700;">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¥Ø·Ø§Ø±</h2>';
            content += `<div class="info-section"><div class="info-title">ğŸ“ Ø§Ù„Ù…Ù‚Ø§Ø³</div><div class="info-text">${displaySize}</div></div>`;
            
            if (pattern) {
                content += `<div class="info-section"><div class="info-title">ğŸ¨ Ø§Ù„Ù†Ù‚Ø´Ø©</div><div class="info-text">${pattern}</div></div>`;
            }
            
            // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³Ø±Ø¹Ø© ÙˆØ§Ù„Ø­Ù…ÙˆÙ„Ø©
            if (info && info.speedRating && speedRatings[info.speedRating]) {
                const rating = speedRatings[info.speedRating];
                content += '<div class="info-section">';
                content += '<div class="info-title">âš¡ Ø§Ù„Ø³Ø±Ø¹Ø© Ø§Ù„Ù‚ØµÙˆÙ‰</div>';
                content += `<div class="info-text"><span class="info-highlight">${rating.speed} ÙƒÙ…/Ø³Ø§Ø¹Ø©</span>`;
                if (rating.description) {
                    content += `<br>${rating.description}`;
                }
                content += '</div></div>';
            }
            
            if (info && info.loadIndex) {
                content += '<div class="info-section">';
                content += '<div class="info-title">âš–ï¸ Ø±Ù‚Ù… Ø§Ù„Ø­Ù…ÙˆÙ„Ø©</div>';
                content += `<div class="info-text"><span class="info-highlight">${info.loadIndex}</span></div>`;
                content += '</div>';
            }
            
            // Ø±Ù…ÙˆØ² Ø§Ù„Ø´Ø±ÙƒØ§Øª
            if (info && info.carBrandCode && carBrandCodes[info.carBrandCode]) {
                content += '<div class="info-section">';
                content += '<div class="info-title">ğŸš— Ù…Ø®ØµØµ Ù„Ø³ÙŠØ§Ø±Ø§Øª</div>';
                content += `<div class="info-text"><span class="info-highlight">${carBrandCodes[info.carBrandCode]}</span></div>`;
                content += '</div>';
            }
            
            // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
            const additionalInfo = [];
            if (info && info.isLT) {
                additionalInfo.push('â­ Ø±Ø¨Ø¹ Ø­Ø¬Ø±ÙŠ (Light Truck)');
            }
            if (info && info.isRunFlat) {
                additionalInfo.push('ğŸ›¡ï¸ Ø±Ù† ÙÙ„Ø§Øª (Run Flat)');
            }
            
            if (additionalInfo.length > 0) {
                content += '<div class="info-section">';
                content += '<div class="info-title">â„¹ï¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</div>';
                content += `<div class="info-text">${additionalInfo.join('<br>')}</div>`;
                content += '</div>';
            }
            
            content += '</div>';
            modal.innerHTML = content;
            
            // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø®Ù„ÙÙŠØ©
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                }
            });
            
            document.body.appendChild(modal);
        };
        
        // Ø¬Ø¯ÙˆÙ„ ØªØ­ÙˆÙŠÙ„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ø§Ø±ÙƒØ§Øª Ù…Ù† Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠ
        const brandTranslations = {
            'MICHELIN': 'Ù…ÙŠØ´Ù„Ø§Ù†',
            'BRIDGESTONE': 'Ø¨Ø±ÙŠØ¯Ø¬Ø³ØªÙˆÙ†',
            'GOODYEAR': 'Ø¬ÙˆØ¯ÙŠÙŠØ±',
            'CONTINENTAL': 'ÙƒÙˆÙ†ØªÙŠÙ†Ù†ØªØ§Ù„',
            'PIRELLI': 'Ø¨ÙŠØ±ÙŠÙ„Ù„ÙŠ',
            'DUNLOP': 'Ø¯Ù†Ù„ÙˆØ¨',
            'YOKOHAMA': 'ÙŠÙˆÙƒÙˆÙ‡Ø§Ù…Ø§',
            'YOKOHAMA AI TERRA TIRE': 'ÙŠÙˆÙƒÙˆÙ‡Ø§Ù…Ø§ Ø­Ø¬Ø±ÙŠ(Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¶Ø§Ø±ÙŠØ³)',
            'AI TERRA TIRE': 'ÙŠÙˆÙƒÙˆÙ‡Ø§Ù…Ø§ Ø­Ø¬Ø±ÙŠ(Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¶Ø§Ø±ÙŠØ³)',
            'HANKOOK': 'Ù‡Ø§Ù†ÙƒÙˆÙƒ',
            'KUMHO': 'ÙƒÙˆÙ…Ù‡Ùˆ',
            'TOYO': 'ØªÙˆÙŠÙˆ',
            'FALKEN': 'ÙØ§Ù„ÙƒÙ†',
            'NEXEN': 'Ù†ÙŠÙƒØ³Ù†',
            'MAXXIS': 'Ù…Ø§ÙƒØ³Ø³',
            'BFGOODRICH': 'Ø¨ÙŠ Ø¥Ù Ø¬ÙˆØ¯Ø±ÙŠØªØ´',
            'COOPER': 'ÙƒÙˆØ¨Ø±',
            'MAYRUN': 'Ù…Ø§ÙŠØ±Ù†',
            'ZETUM': 'Ø²ÙŠØªÙˆÙ…',
            'APOLLO': 'Ø£Ø¨ÙˆÙ„Ùˆ',
            'KINFOREST': 'ÙƒÙŠÙ†ÙÙˆØ±ÙŠØ³Øª',
            'ROADSTONE': 'Ø±ÙˆØ¯Ø³ØªÙˆÙ†',
            'SUMITOMO': 'Ø³ÙˆÙ…ÙŠØªÙˆÙ…Ùˆ',
            'FIRESTONE': 'ÙØ§ÙŠØ±Ø³ØªÙˆÙ†',
            'ULTRAFORCE': 'Ø£Ù„ØªØ±Ø§ ÙÙˆØ±Ø³'
        };

        // Ø¬Ø¯ÙˆÙ„ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¯ÙˆÙ„ Ù…Ù† Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠ
        const countryTranslations = {
            'CHINA': 'ØµÙŠÙ†ÙŠ ğŸ‡¨ğŸ‡³',
            'THAILAND': 'ØªØ§ÙŠÙ„Ù†Ø¯ÙŠ ğŸ‡¹ğŸ‡­',
            'JAPAN': 'ÙŠØ§Ø¨Ø§Ù†ÙŠ ğŸ‡¯ğŸ‡µ',
            'POLAND': 'Ø¨ÙˆÙ„Ù†Ø¯ÙŠ ğŸ‡µğŸ‡±',
            'EUROPE': 'Ø£ÙˆØ±ÙˆØ¨ÙŠ ğŸ‡ªğŸ‡º',
            'FRANCE': 'ÙØ±Ù†Ø³ÙŠ ğŸ‡«ğŸ‡·',
            'SOUTH KOREA': 'ÙƒÙˆØ±ÙŠ ğŸ‡°ğŸ‡·',
            'KOREA': 'ÙƒÙˆØ±ÙŠ ğŸ‡°ğŸ‡·',
            'UNITED STATES': 'Ø£Ù…Ø±ÙŠÙƒÙŠ ğŸ‡ºğŸ‡¸',
            'USA': 'Ø£Ù…Ø±ÙŠÙƒÙŠ ğŸ‡ºğŸ‡¸',
            'PHILIPPINES': 'ÙÙ„Ø¨ÙŠÙ†ÙŠ ğŸ‡µğŸ‡­',
            'INDONESIA': 'Ø§Ù†Ø¯ÙˆÙ†ÙŠØ³ÙŠ ğŸ‡®ğŸ‡©',
            'INDIA': 'Ù‡Ù†Ø¯ÙŠ ğŸ‡®ğŸ‡³',
            'GERMANY': 'Ø£Ù„Ù…Ø§Ù†ÙŠ ğŸ‡©ğŸ‡ª',
            'SOUTH AFRICA': 'Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ ğŸ‡¿ğŸ‡¦',
            'CANADA': 'ÙƒÙ†Ø¯ÙŠ ğŸ‡¨ğŸ‡¦',
            'MALAYSIA': 'Ù…Ø§Ù„ÙŠØ²ÙŠ ğŸ‡²ğŸ‡¾',
            'VIETNAM': 'ÙÙŠØªÙ†Ø§Ù…ÙŠ ğŸ‡»ğŸ‡³',
            'TAIWAN': 'ØªØ§ÙŠÙˆØ§Ù†ÙŠ ğŸ‡¹ğŸ‡¼',
            'BRAZIL': 'Ø¨Ø±Ø§Ø²ÙŠÙ„ÙŠ ğŸ‡§ğŸ‡·',
            'ITALY': 'Ø¥ÙŠØ·Ø§Ù„ÙŠ ğŸ‡®ğŸ‡¹',
            'SPAIN': 'Ø¥Ø³Ø¨Ø§Ù†ÙŠ ğŸ‡ªğŸ‡¸',
            'TURKEY': 'ØªØ±ÙƒÙŠ ğŸ‡¹ğŸ‡·',
            'MEXICO': 'Ù…ÙƒØ³ÙŠÙƒÙŠ ğŸ‡²ğŸ‡½',
            'UK': 'Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠ ğŸ‡¬ğŸ‡§',
            'UNITED KINGDOM': 'Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠ ğŸ‡¬ğŸ‡§',
            'RUSSIA': 'Ø±ÙˆØ³ÙŠ ğŸ‡·ğŸ‡º',
            'CZECH REPUBLIC': 'ØªØ´ÙŠÙƒÙŠ ğŸ‡¨ğŸ‡¿',
            'SLOVAKIA': 'Ø³Ù„ÙˆÙØ§ÙƒÙŠ ğŸ‡¸ğŸ‡°',
            'HUNGARY': 'Ù…Ø¬Ø±ÙŠ ğŸ‡­ğŸ‡º',
            'ROMANIA': 'Ø±ÙˆÙ…Ø§Ù†ÙŠ ğŸ‡·ğŸ‡´',
            'ARGENTINA': 'Ø£Ø±Ø¬Ù†ØªÙŠÙ†ÙŠ ğŸ‡¦ğŸ‡·',
            'AUSTRALIA': 'Ø£Ø³ØªØ±Ø§Ù„ÙŠ ğŸ‡¦ğŸ‡º',
            'NEW ZEALAND': 'Ù†ÙŠÙˆØ²ÙŠÙ„Ù†Ø¯ÙŠ ğŸ‡³ğŸ‡¿',
            'SERBIA': 'ØµØ±Ø¨ÙŠ ğŸ‡·ğŸ‡¸',
            'PORTUGAL': 'Ø¨Ø±ØªØºØ§Ù„ÙŠ ğŸ‡µğŸ‡¹',
            'SLOVENIA': 'Ø³Ù„ÙˆÙÙŠÙ†ÙŠ ğŸ‡¸ğŸ‡®'
        };
        
        // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯ÙˆÙ„ Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±
        const availableCountries = [
            'ØµÙŠÙ†ÙŠ ğŸ‡¨ğŸ‡³',
            'ØªØ§ÙŠÙ„Ù†Ø¯ÙŠ ğŸ‡¹ğŸ‡­',
            'ÙŠØ§Ø¨Ø§Ù†ÙŠ ğŸ‡¯ğŸ‡µ',
            'Ø¨ÙˆÙ„Ù†Ø¯ÙŠ ğŸ‡µğŸ‡±',
            'Ø£ÙˆØ±ÙˆØ¨ÙŠ ğŸ‡ªğŸ‡º',
            'ÙØ±Ù†Ø³ÙŠ ğŸ‡«ğŸ‡·',
            'ÙƒÙˆØ±ÙŠ ğŸ‡°ğŸ‡·',
            'Ø£Ù…Ø±ÙŠÙƒÙŠ ğŸ‡ºğŸ‡¸',
            'ÙÙ„Ø¨ÙŠÙ†ÙŠ ğŸ‡µğŸ‡­',
            'Ø§Ù†Ø¯ÙˆÙ†ÙŠØ³ÙŠ ğŸ‡®ğŸ‡©',
            'Ù‡Ù†Ø¯ÙŠ ğŸ‡®ğŸ‡³',
            'Ø£Ù„Ù…Ø§Ù†ÙŠ ğŸ‡©ğŸ‡ª',
            'Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ ğŸ‡¿ğŸ‡¦',
            'ÙƒÙ†Ø¯ÙŠ ğŸ‡¨ğŸ‡¦',
            'Ù…Ø§Ù„ÙŠØ²ÙŠ ğŸ‡²ğŸ‡¾',
            'ÙÙŠØªÙ†Ø§Ù…ÙŠ ğŸ‡»ğŸ‡³',
            'ØªØ§ÙŠÙˆØ§Ù†ÙŠ ğŸ‡¹ğŸ‡¼',
            'Ø¨Ø±Ø§Ø²ÙŠÙ„ÙŠ ğŸ‡§ğŸ‡·',
            'Ø¥ÙŠØ·Ø§Ù„ÙŠ ğŸ‡®ğŸ‡¹',
            'Ø¥Ø³Ø¨Ø§Ù†ÙŠ ğŸ‡ªğŸ‡¸',
            'ØªØ±ÙƒÙŠ ğŸ‡¹ğŸ‡·',
            'Ù…ÙƒØ³ÙŠÙƒÙŠ ğŸ‡²ğŸ‡½',
            'Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠ ğŸ‡¬ğŸ‡§',
            'Ø±ÙˆØ³ÙŠ ğŸ‡·ğŸ‡º',
            'ØªØ´ÙŠÙƒÙŠ ğŸ‡¨ğŸ‡¿',
            'Ø³Ù„ÙˆÙØ§ÙƒÙŠ ğŸ‡¸ğŸ‡°',
            'Ù…Ø¬Ø±ÙŠ ğŸ‡­ğŸ‡º',
            'Ø±ÙˆÙ…Ø§Ù†ÙŠ ğŸ‡·ğŸ‡´',
            'Ø£Ø±Ø¬Ù†ØªÙŠÙ†ÙŠ ğŸ‡¦ğŸ‡·',
            'Ø£Ø³ØªØ±Ø§Ù„ÙŠ ğŸ‡¦ğŸ‡º',
            'Ù†ÙŠÙˆØ²ÙŠÙ„Ù†Ø¯ÙŠ ğŸ‡³ğŸ‡¿',
            'ØµØ±Ø¨ÙŠ ğŸ‡·ğŸ‡¸',
            'Ø¨Ø±ØªØºØ§Ù„ÙŠ ğŸ‡µğŸ‡¹',
            'Ø³Ù„ÙˆÙÙŠÙ†ÙŠ ğŸ‡¸ğŸ‡®'
        ];
        
        // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³Ù†ÙˆØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©
        const availableYears = ['2024', '2025', '2026'];
        
        // Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø³Ø±Ø¹Ø§Øª
        const speedRatings = {
            'S': { speed: '180', description: 'Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù‚ØªØµØ§Ø¯ÙŠØ© ÙˆØ¹Ø§Ø¦Ù„ÙŠØ©' },
            'T': { speed: '190', description: 'Ø³ÙŠØ§Ø±Ø§Øª Ø³ÙŠØ¯Ø§Ù† Ù…ØªÙˆØ³Ø·Ø© Ø§Ù„Ø­Ø¬Ù…' },
            'H': { speed: '210', description: 'Ø³ÙŠØ§Ø±Ø§Øª Ø³Ø¨ÙˆØ±Øª ÙˆØ³ÙŠØ¯Ø§Ù† ÙƒØ¨ÙŠØ±Ø©' },
            'V': { speed: '240', description: 'Ø³ÙŠØ§Ø±Ø§Øª Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø£Ø¯Ø§Ø¡' },
            'W': { speed: '270', description: 'Ø³ÙŠØ§Ø±Ø§Øª Ø±ÙŠØ§Ø¶ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©' },
            'Y': { speed: '300', description: 'Ø³ÙŠØ§Ø±Ø§Øª Ø³ÙˆØ¨Ø± Ø³Ø¨ÙˆØ±Øª' }
        };
        
        // Ø¬Ø¯ÙˆÙ„ Ø±Ù…ÙˆØ² Ø§Ù„Ø´Ø±ÙƒØ§Øª
        const carBrandCodes = {
            'AR': 'Ø£Ù„ÙØ§ Ø±ÙˆÙ…ÙŠÙˆ',
            'AML': 'Ø£Ø³ØªÙˆÙ† Ù…Ø§Ø±ØªÙ†',
            'AO': 'Ø£ÙˆØ¯ÙŠ',
            'AOE': 'Ø£ÙˆØ¯ÙŠ',
            'AO1': 'Ø£ÙˆØ¯ÙŠ',
            'RO1': 'Ø£ÙˆØ¯ÙŠ ÙƒÙˆØ§ØªØ±Ùˆ',
            'BG': 'Ø¨ÙˆØºØ§ØªÙŠ',
            '*': 'Ø¨ÙŠ Ø¥Ù… Ø¯Ø¨Ù„ÙŠÙˆ / Ù…ÙŠÙ†ÙŠ ÙƒÙˆØ¨Ø±',
            'GOE': 'Ø¬ÙŠÙ†ÙŠØ³ÙŠØ³ / Ù‡ÙŠÙˆÙ†Ø¯Ø§ÙŠ',
            'HN': 'Ù‡ÙŠÙˆÙ†Ø¯Ø§ÙŠ',
            'J': 'Ø¬Ø§ÙƒÙˆØ§Ø±',
            'LR': 'Ù„Ø§Ù†Ø¯ Ø±ÙˆÙØ±',
            'JLR': 'Ù„Ø§Ù†Ø¯ Ø±ÙˆÙØ±',
            'K1': 'ÙÙŠØ±Ø§Ø±ÙŠ',
            'K2': 'ÙÙŠØ±Ø§Ø±ÙŠ',
            'K3': 'ÙÙŠØ±Ø§Ø±ÙŠ',
            'FP': 'ÙÙˆØ±Ø¯ Ø¨ÙŠØ±ÙÙˆØ±Ù…Ø§Ù†Ø³',
            'LTS': 'Ù„ÙˆØªØ³',
            'LM': 'Ù„ÙˆØ³ÙŠØ¯',
            'MGT': 'Ù…Ø§Ø²ÙŠØ±Ø§ØªÙŠ',
            'MO': 'Ù…Ø±Ø³ÙŠØ¯Ø³ Ø¨Ù†Ø² / AMG',
            'MOE': 'Ù…Ø±Ø³ÙŠØ¯Ø³ Ø¨Ù†Ø² / AMG',
            'MO1': 'Ù…Ø±Ø³ÙŠØ¯Ø³ Ø¨Ù†Ø² / AMG',
            'i': 'Ù†ÙŠÙˆ',
            'POL': 'Ø¨ÙˆÙ„Ø³ØªØ§Ø±',
            'N0': 'Ø¨ÙˆØ±Ø´Ù‡',
            'N1': 'Ø¨ÙˆØ±Ø´Ù‡',
            'N2': 'Ø¨ÙˆØ±Ø´Ù‡',
            'N3': 'Ø¨ÙˆØ±Ø´Ù‡',
            'N4': 'Ø¨ÙˆØ±Ø´Ù‡',
            'R': 'Ø±ÙŠÙ†Ùˆ',
            'T0': 'ØªØ³Ù„Ø§',
            'T1': 'ØªØ³Ù„Ø§',
            'TPC': 'ÙƒØ§Ø¯ÙŠÙ„Ø§Ùƒ / ÙƒÙˆØ±ÙÙŠØª',
            'VOL': 'ÙÙˆÙ„ÙÙˆ'
        };

        // Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ù„Ù ÙˆØ£Ø³Ù…Ø§Ø¡ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
        const SHEET_ID = '1_ml2uiVRXrltZ4ef1PKSgNSO_4SMtXKn20JSajVEDu8';
        const SHEET_TABS = [
            'Berlin Tires',
            'FTC',
            'Babtain Tires',
            'YOKOHAMA TIRE',
            'Al TERRA TIRE (By YOKOHAMA)',
            'MICHELIN , BFGOODRICH',
            'AL Ghanim Group China',
            'AL Ghanim Group Korea',
            'AL Ghanim Group SUMITOMO',
            'Pirelli Retail price list',
            'Firestone Tires',
            'UltraForce Tires',
            'ÙØ±Ø¬ Ø­ÙˆÙ„ÙŠ'
        ];
        
        // Ø¬Ø¯ÙˆÙ„ ØªØ­ÙˆÙŠÙ„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø¥Ù„Ù‰ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø´Ø±ÙƒØ§Øª Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ
        const companyNames = {
            'Berlin Tires': 'Ø¨Ø±Ù„ÙŠÙ†',
            'FTC': 'FTC',
            'Babtain Tires': 'Ø§Ù„Ø¨Ø§Ø¨Ø·ÙŠÙ†',
            'YOKOHAMA TIRE': 'ÙŠÙˆÙƒØ§Ù‡Ù…Ø§ Ø§Ù„Ø³Ø§ÙŠØ±',
            'Al TERRA TIRE (By YOKOHAMA)': 'ÙŠÙˆÙƒØ§Ù‡Ù…Ø§ Ø§Ù„Ø³Ø§ÙŠØ±',
            'MICHELIN , BFGOODRICH': 'Ø§Ù„Ø´Ø§ÙŠØ¹ ÙˆØ§Ù„ØµÙ‚Ø±',
            'AL Ghanim Group China': 'Ø§Ù„ØºØ§Ù†Ù… Ù…ÙˆØªØ±ÙŠ',
            'AL Ghanim Group Korea': 'Ø§Ù„ØºØ§Ù†Ù… Ù…ÙˆØªØ±ÙŠ',
            'AL Ghanim Group SUMITOMO': 'Ø§Ù„ØºØ§Ù†Ù… Ù…ÙˆØªØ±ÙŠ',
            'Pirelli Retail price list': 'Ø¨ÙŠØ±ÙŠÙ„ÙŠ Ø¨Ù‡Ø¨Ù‡Ø§Ù†ÙŠ',
            'Firestone Tires': 'ÙØ§ÙŠØ±Ø³ØªÙˆÙ† (ÙØ§Ø±ØªØ§)',
            'UltraForce Tires': 'Ø§Ù„ØªØ±Ø§ ÙÙˆØ±Ø³ (ÙØ§Ø±ØªØ§)',
            'ÙØ±Ø¬ Ø­ÙˆÙ„ÙŠ': 'ÙØ±Ø¬ Ø­ÙˆÙ„ÙŠ'
        };
        
        let allData = [];
        let allSizes = new Set();
        let currentSearchResults = [];

        const defaultConfig = {
            site_title: 'Ø¨Ø­Ø« Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª',
            search_placeholder: 'Ø£Ø¯Ø®Ù„ Ù…Ù‚Ø§Ø³ Ø§Ù„Ø¥Ø·Ø§Ø± (Ù…Ø«Ø§Ù„: 215/55R17)',
            search_button_text: 'Ø¨Ø­Ø«',
            copy_button_text: 'Ù†Ø³Ø®'
        };

        async function onConfigChange(config) {
            document.getElementById('searchInput').placeholder = config.search_placeholder || defaultConfig.search_placeholder;
            document.getElementById('searchButton').textContent = config.search_button_text || defaultConfig.search_button_text;
        }

        function extractTireSize(sizeText) {
            if (!sizeText) return null;
            const cleanText = sizeText.trim();
            
            // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª Ø¨ØµÙŠØºØ© 275/45/14 Ø¥Ù„Ù‰ 275/45R14
            let processedText = cleanText.replace(/(\d{3})\/(\d{2})\/(\d{2})/g, '$1/$2R$3');
            processedText = processedText.replace(/(LT\d{3})\/(\d{2})\/(\d{2})/gi, '$1/$2R$3');
            
            // Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© (Ù…Ø«Ù„ 215/60R16 Ø£Ùˆ LT265/65R17)
            const normalMatch = processedText.replace(/\s+/g, '').match(/(LT)?\d{3}\/\d{2}[A-Z\-]*\d{2}/i);
            if (normalMatch) {
                const normalized = normalMatch[0].replace(/([\/\d{2}])[A-Z\-]+(\d{2})/i, '$1R$2');
                return normalized.toUpperCase();
            }
            
            // Ø¯Ø¹Ù… Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ù…Ø«Ù„ 16.9-28 12PR AIT 426
            const specialMatch = cleanText.match(/\d+\.?\d*[\-\/]\d+/);
            if (specialMatch) {
                return cleanText.toUpperCase();
            }
            
            return null;
        }

        function isRunFlat(text) {
            if (!text) return false;
            const upperText = text.toUpperCase().replace(/\s+/g, '');
            return upperText.includes('RF') || 
                   upperText.includes('R-F') ||
                   upperText.includes('RFT') || 
                   upperText.includes('RUNFLAT') || 
                   upperText.includes('RUNFLAT');
        }

        function extractPattern(sizeText, patternColumn) {
            let pattern = '';
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø®Ø§Ù†Ø© Ø§Ù„Ù†Ù‚Ø´Ø© Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù…Ù‡Ø§
            if (patternColumn && patternColumn.trim()) {
                pattern = patternColumn.trim();
            } 
            // Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø´Ø© Ù…Ù† Ù†Øµ Ø§Ù„Ù…Ù‚Ø§Ø³ (Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ù‚Ø§Ø³ Ù†ÙØ³Ù‡)
            else if (sizeText) {
                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ù‚Ø§Ø³ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ ÙˆØ§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø§ Ø¨Ø¹Ø¯Ù‡
                const sizeMatch = sizeText.match(/(LT)?\d{3}\/\d{2}[A-Z\-]*\d{2}/i);
                if (sizeMatch) {
                    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù†Øµ Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ù‚Ø§Ø³
                    const afterSize = sizeText.substring(sizeMatch.index + sizeMatch[0].length).trim();
                    // Ø¥Ø²Ø§Ù„Ø© TL ÙˆØ£ÙŠ ÙØ±Ø§ØºØ§Øª Ø²Ø§Ø¦Ø¯Ø©
                    pattern = afterSize.replace(/TL/gi, '').replace(/\s+/g, ' ').trim();
                } else {
                    // Ù„Ù„Ù…Ù‚Ø§Ø³Ø§Øª Ø§Ù„Ø®Ø§ØµØ©ØŒ Ø­Ø§ÙˆÙ„ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø£ÙŠ Ù†Øµ Ø¥Ø¶Ø§ÙÙŠ
                    const parts = sizeText.split(' ');
                    if (parts.length > 1) {
                        pattern = parts.slice(1).join(' ').replace(/TL/gi, '').trim();
                    }
                }
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø¥Ø´Ø§Ø±Ø© Ø±Ù† ÙÙ„Ø§Øª Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
            if (isRunFlat(sizeText) || isRunFlat(patternColumn)) {
                pattern = pattern ? `${pattern} (Ø±Ù† ÙÙ„Ø§Øª)` : '(Ø±Ù† ÙÙ„Ø§Øª)';
            }
            
            return pattern;
        }

        function translateBrand(brand) {
            if (!brand) return '';
            const upperBrand = brand.toUpperCase();
            return brandTranslations[upperBrand] || brand;
        }
        
        function extractTireInfo(sizeText) {
            if (!sizeText) return null;
            
            const info = {
                loadIndex: null,
                speedRating: null,
                carBrandCode: null,
                isLT: false,
                isRunFlat: false
            };
            
            const cleanText = sizeText.trim().toUpperCase();
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ø¨Ø¹ Ø­Ø¬Ø±ÙŠ
            info.isLT = cleanText.startsWith('LT');
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù† ÙÙ„Ø§Øª
            info.isRunFlat = isRunFlat(cleanText);
            
            // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø±Ù‚Ù… Ø§Ù„Ø­Ù…ÙˆÙ„Ø© ÙˆØ­Ø±Ù Ø§Ù„Ø³Ø±Ø¹Ø© (Ù…Ø«Ù„ 94V Ø£Ùˆ 103H)
            const loadSpeedMatch = cleanText.match(/(\d{2,3})([HSTVWY])\b/);
            if (loadSpeedMatch) {
                info.loadIndex = loadSpeedMatch[1];
                info.speedRating = loadSpeedMatch[2];
            }
            
            // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø±Ù…ÙˆØ² Ø§Ù„Ø´Ø±ÙƒØ§Øª
            // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ø·ÙˆÙŠÙ„Ø© Ø£ÙˆÙ„Ø§Ù‹ Ø«Ù… Ø§Ù„Ù‚ØµÙŠØ±Ø©
            const codes = Object.keys(carBrandCodes).sort((a, b) => b.length - a.length);
            for (const code of codes) {
                if (code === '*') continue; // ØªØ¬Ø§Ù‡Ù„ * Ù„Ø£Ù†Ù‡ Ø±Ù…Ø² Ø¹Ø§Ù…
                const regex = new RegExp('\\b' + code + '\\b', 'i');
                if (regex.test(cleanText)) {
                    info.carBrandCode = code;
                    break;
                }
            }
            
            return info;
        }

        function translateCountry(origin) {
            if (!origin) return '';
            const upperOrigin = origin.toUpperCase().trim();
            return countryTranslations[upperOrigin] || origin;
        }

        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 2000);
        }

        function copyToClipboard(text, button) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            document.body.appendChild(textArea);
            textArea.select();
            
            try {
                document.execCommand('copy');
                showToast('ØªÙ… Ø§Ù„Ù†Ø³Ø® Ø¨Ù†Ø¬Ø§Ø­!');
                
                const originalText = button.textContent;
                button.textContent = 'âœ“ ØªÙ… Ø§Ù„Ù†Ø³Ø®';
                button.style.background = '#10B981';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = 'linear-gradient(135deg, #FFD700 0%, #FFA500 100%)';
                }, 1500);
            } catch (err) {
                showToast('ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø®ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰');
            }
            
            document.body.removeChild(textArea);
        }

        function showSuggestions(searchTerm) {
            const dropdown = document.getElementById('suggestionsDropdown');
            
            if (!searchTerm || searchTerm.length < 2) {
                dropdown.classList.add('hidden');
                return;
            }
            
            const normalizedSearch = searchTerm.replace(/\s+/g, '').toUpperCase();
            const matches = Array.from(allSizes).filter(size => 
                size.includes(normalizedSearch)
            ).slice(0, 10);
            
            if (matches.length === 0) {
                dropdown.classList.add('hidden');
                return;
            }
            
            dropdown.innerHTML = '';
            matches.forEach(size => {
                const item = document.createElement('div');
                item.className = 'suggestion-item';
                item.textContent = size;
                item.addEventListener('click', () => {
                    document.getElementById('searchInput').value = size;
                    dropdown.classList.add('hidden');
                    performSearch();
                });
                dropdown.appendChild(item);
            });
            
            dropdown.classList.remove('hidden');
        }

        async function loadSheetTab(sheetId, tabName) {
            try {
                const url = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?sheet=${encodeURIComponent(tabName)}&tqx=out:json`;
                
                const response = await fetch(url);
                const text = await response.text();
                
                const jsonMatch = text.match(/google\.visualization\.Query\.setResponse\((.*)\);/);
                if (!jsonMatch) {
                    return [];
                }
                
                const data = JSON.parse(jsonMatch[1]);
                const sheetData = [];
                
                if (data.table && data.table.rows) {
                    for (let i = 0; i < data.table.rows.length; i++) {
                        const row = data.table.rows[i];
                        if (row.c && row.c.length >= 2) {
                            const brand = row.c[0]?.v || row.c[0]?.f || '';
                            const tireSize = row.c[1]?.v || row.c[1]?.f || '';
                            const pattern = row.c[2]?.v || row.c[2]?.f || '';
                            const year = row.c[3]?.v || row.c[3]?.f || '';
                            const price = row.c[5]?.v || row.c[5]?.f || row.c[4]?.v || row.c[4]?.f || '';
                            const origin = row.c[6]?.v || row.c[6]?.f || '';
                            
                            // ØªØ¬Ø§Ù‡Ù„ ØµÙ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ÙÙ‚Ø·
                            if (brand && brand.toUpperCase() === 'BRAND') continue;
                            
                            const normalizedSize = extractTireSize(tireSize);
                            
                            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ù‚Ø§Ø³ ÙˆØ§Ù„Ø³Ø¹Ø± Ù…ÙˆØ¬ÙˆØ¯ÙŠÙ† (Ø­ØªÙ‰ Ù„Ùˆ Ø§Ù„Ø¨Ø±Ø§Ù†Ø¯ ÙØ§Ø±Øº)
                            if (normalizedSize && price && price.toString().trim()) {
                                allSizes.add(normalizedSize);
                                sheetData.push({
                                    brand: brand ? brand.toString().trim() : '',
                                    tireSize: normalizedSize,
                                    originalSize: tireSize,
                                    pattern: extractPattern(tireSize, pattern),
                                    year: year ? year.toString().trim() : '',
                                    price: price.toString().trim(),
                                    origin: origin ? origin.toString().trim() : '',
                                    sheetTab: tabName
                                });
                            }
                        }
                    }
                }
                
                return sheetData;
            } catch (error) {
                console.error(`Error loading tab ${tabName}:`, error);
                return [];
            }
        }

        async function loadGoogleSheetsData() {
            try {
                allData = [];
                allSizes.clear();
                
                const indicator = document.getElementById('connectionIndicator');
                const status = document.getElementById('connectionStatus');
                
                // ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø¨Ø´ÙƒÙ„ Ù…ØªÙˆØ§Ø²ÙŠ Ù„ØªØ³Ø±ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
                const loadPromises = SHEET_TABS.map(tabName => loadSheetTab(SHEET_ID, tabName));
                const results = await Promise.all(loadPromises);
                
                // Ø¯Ù…Ø¬ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                results.forEach(tabData => {
                    if (tabData.length > 0) {
                        allData = allData.concat(tabData);
                    }
                });
                
                if (allData.length > 0) {
                    indicator.style.backgroundColor = '#10B981';
                    status.textContent = 'Ù…ØªØµÙ„';
                    status.style.color = '#FFD700';
                } else {
                    indicator.style.backgroundColor = '#C9A961';
                    status.textContent = 'Ù…ØªØµÙ„';
                    status.style.color = '#FFD700';
                }
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø« Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
                document.getElementById('initialLoading').classList.add('hidden');
                document.getElementById('searchBox').classList.remove('hidden');
                
                document.getElementById('resultsContainer').classList.add('hidden');
                document.getElementById('noResults').classList.add('hidden');
                
                return true;
            } catch (error) {
                console.error('Error loading data:', error);
                
                const indicator = document.getElementById('connectionIndicator');
                const status = document.getElementById('connectionStatus');
                indicator.style.backgroundColor = '#EF4444';
                status.textContent = 'ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„';
                status.style.color = '#EF4444';
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø« Ø­ØªÙ‰ Ù„Ùˆ ÙØ´Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„
                document.getElementById('initialLoading').classList.add('hidden');
                document.getElementById('searchBox').classList.remove('hidden');
                
                return false;
            }
        }

        function searchTires(searchSize) {
            const normalizedSearch = extractTireSize(searchSize);
            if (!normalizedSearch) return [];
            
            // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ù‚Ø§Ø³ Ù…Ø¹ Ø£Ùˆ Ø¨Ø¯ÙˆÙ† LT
            const searchWithoutLT = normalizedSearch.replace(/^LT/i, '');
            
            const results = allData.filter(item => {
                const itemSizeWithoutLT = item.tireSize.replace(/^LT/i, '');
                return item.tireSize === normalizedSearch || itemSizeWithoutLT === searchWithoutLT;
            });
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ÙƒØ±Ø±Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ (Ø§Ù„Ù…Ø§Ø±ÙƒØ© + Ø§Ù„Ù…Ù‚Ø§Ø³ + Ø§Ù„Ù†Ù‚Ø´Ø© + Ø§Ù„Ø³Ù†Ø© + Ø§Ù„Ø³Ø¹Ø±)
            const uniqueResults = [];
            const seen = new Set();
            
            for (const result of results) {
                const key = `${result.brand}|${result.tireSize}|${result.pattern}|${result.year}|${result.price}`;
                if (!seen.has(key)) {
                    seen.add(key);
                    uniqueResults.push(result);
                }
            }
            
            return uniqueResults;
        }

        function populateBrandFilter(results) {
            const brandCheckboxes = document.getElementById('brandCheckboxes');
            const brands = new Set();
            
            results.forEach(result => {
                // ÙÙ‚Ø· Ø§Ù„Ù…Ø§Ø±ÙƒØ§Øª Ø§Ù„ØªÙŠ Ù„Ù‡Ø§ Ù‚ÙŠÙ…Ø©
                if (result.brand && result.brand.trim()) {
                    const brandArabic = translateBrand(result.brand);
                    brands.add(JSON.stringify({ english: result.brand, arabic: brandArabic }));
                }
            });
            
            const sortedBrands = Array.from(brands).map(b => JSON.parse(b)).sort((a, b) => a.arabic.localeCompare(b.arabic, 'ar'));
            
            brandCheckboxes.innerHTML = '';
            
            // Ø¹Ø±Ø¶ Ø§Ù„ÙÙ„ØªØ± ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ù…Ø§Ø±ÙƒØ§Øª
            if (sortedBrands.length > 0) {
                // Ø¥Ø¶Ø§ÙØ© Ø®ÙŠØ§Ø± "Ø§Ù„ÙƒÙ„" ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰
                const allLabel = document.createElement('label');
                allLabel.className = 'flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-gray-800 transition-colors';
                allLabel.style.color = '#FFD700';
                allLabel.style.fontWeight = 'bold';
                
                const allCheckbox = document.createElement('input');
                allCheckbox.type = 'checkbox';
                allCheckbox.id = 'selectAll';
                allCheckbox.className = 'brand-checkbox';
                allCheckbox.style.accentColor = '#FFD700';
                allCheckbox.checked = true;
                
                const allText = document.createTextNode('Ø§Ù„ÙƒÙ„');
                
                allLabel.appendChild(allCheckbox);
                allLabel.appendChild(allText);
                brandCheckboxes.appendChild(allLabel);
                
                allCheckbox.addEventListener('change', () => {
                    const brandCheckboxesList = document.querySelectorAll('.brand-checkbox:not(#selectAll)');
                    brandCheckboxesList.forEach(cb => {
                        cb.checked = allCheckbox.checked;
                    });
                    filterAndDisplayResults();
                });
                
                // Ø¥Ø¶Ø§ÙØ© Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ø§Ø±ÙƒØ§Øª
                sortedBrands.forEach(brand => {
                    const label = document.createElement('label');
                    label.className = 'flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-gray-800 transition-colors';
                    label.style.color = '#FFD700';
                    
                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.value = brand.english;
                    checkbox.className = 'brand-checkbox';
                    checkbox.style.accentColor = '#FFD700';
                    checkbox.checked = true;
                    
                    const text = document.createTextNode(brand.arabic);
                    
                    label.appendChild(checkbox);
                    label.appendChild(text);
                    brandCheckboxes.appendChild(label);
                    
                    checkbox.addEventListener('change', () => {
                        const brandCheckboxesList = document.querySelectorAll('.brand-checkbox:not(#selectAll)');
                        const allChecked = Array.from(brandCheckboxesList).every(cb => cb.checked);
                        document.getElementById('selectAll').checked = allChecked;
                        filterAndDisplayResults();
                    });
                });
                
                document.getElementById('brandFilterContainer').classList.remove('hidden');
            }
        }

        function filterByBrand(results) {
            const checkedBrands = Array.from(document.querySelectorAll('.brand-checkbox:not(#selectAll):checked')).map(cb => cb.value);
            
            // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ ÙÙ„ØªØ± Ø¨Ø±Ø§Ù†Ø¯ØŒ Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            if (checkedBrands.length === 0) {
                return results.filter(result => !result.brand || !result.brand.trim());
            }
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„Ø¨Ø±Ø§Ù†Ø¯Ø§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© + Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨Ø¯ÙˆÙ† Ø¨Ø±Ø§Ù†Ø¯
            return results.filter(result => {
                return !result.brand || !result.brand.trim() || checkedBrands.includes(result.brand);
            });
        }
        
        function filterAndDisplayResults() {
            const filteredResults = filterByBrand(currentSearchResults);
            displayResults(filteredResults);
        }

        function displayResults(results) {
            const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
            const copyButtonText = config.copy_button_text || defaultConfig.copy_button_text;
            
            // ØªØ±ØªÙŠØ¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ù† Ø§Ù„Ø£Ø±Ø®Øµ Ù„Ù„Ø£Ø¹Ù„Ù‰
            const sortedResults = [...results].sort((a, b) => {
                const priceA = parseFloat(a.price) || 0;
                const priceB = parseFloat(b.price) || 0;
                return priceA - priceB;
            });
            
            const tbody = document.getElementById('resultsTableBody');
            tbody.innerHTML = '';
            
            // ØªÙØ±ÙŠØº Ø§Ù„Ù…ØµÙÙˆÙØ© Ø§Ù„Ø¹Ø§Ù…Ø©
            window.tireInfoData = [];
            
            sortedResults.forEach((result, index) => {
                const row = document.createElement('tr');
                row.className = 'table-row';
                
                if (index % 2 === 0) {
                    row.style.background = '#1a1a1a';
                } else {
                    row.style.background = '#0f0f0f';
                }
                
                const brandArabic = translateBrand(result.brand);
                const countryArabic = translateCountry(result.origin);
                const companyName = companyNames[result.sheetTab] || result.sheetTab;
                
                const brandInputId = `brand-${index}`;
                const countrySelectId = `country-${index}`;
                const yearSelectId = `year-${index}`;
                
                // ØªØ­Ø¯ÙŠØ¯ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø±Ø¨Ø¹ Ø­Ø¬Ø±ÙŠ Ø£Ùˆ Ø±Ù† ÙÙ„Ø§Øª
                const isLT = result.tireSize.toUpperCase().startsWith('LT');
                const isRF = isRunFlat(result.originalSize) || isRunFlat(result.pattern);
                const displaySize = isLT ? `${result.tireSize} (Ø±Ø¨Ø¹ Ø­Ø¬Ø±ÙŠ)` : result.tireSize;
                
                // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¥Ø·Ø§Ø±
                const tireInfo = extractTireInfo(result.originalSize || result.tireSize);
                
                // Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙÙŠ Ø§Ù„Ù…ØµÙÙˆÙØ© Ø§Ù„Ø¹Ø§Ù…Ø©
                window.tireInfoData[index] = {
                    info: tireInfo,
                    sizeText: result.originalSize || result.tireSize,
                    displaySize: displaySize,
                    pattern: result.pattern
                };
                
                // Ø²Ø± Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙŠØ¸Ù‡Ø± Ø¯Ø§Ø¦Ù…Ø§Ù‹
                const infoButton = `<button class="info-btn ml-2" onclick="window.showInfoModal(${index})" title="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¥Ø·Ø§Ø±">i</button>`;
                
                // Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ù„Ø§ÙŠØ§ ØªØ¹Ø±Ø¶ Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©
                row.innerHTML = `
                    <td class="px-4 py-3 border-b" style="border-color: #333;">
                        <div style="font-size: 0.7rem; color: #888; margin-bottom: 6px; font-weight: 600;">${companyName}</div>
                        ${result.brand && result.brand.trim() 
                            ? `<div class="font-bold">${brandArabic}</div>` 
                            : `<input type="text" id="${brandInputId}" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ø±ÙƒØ©" class="w-full px-2 py-1 rounded border focus:outline-none text-sm" style="background-color: #000000; color: #FFD700; border-color: #FFD700;">`
                        }
                    </td>
                    <td class="px-4 py-3 font-bold border-b" style="color: #FFD700; border-color: #333;">
                        <div class="flex items-center gap-2">
                            <span>${displaySize}</span>
                            ${infoButton}
                        </div>
                    </td>
                    <td class="px-4 py-3 border-b" style="border-color: #333;">${result.pattern}</td>
                    <td class="px-4 py-3 border-b" style="border-color: #333;">
                        <select id="${countrySelectId}" class="w-full px-2 py-1 rounded border focus:outline-none" style="background-color: #000000; color: #FFD700; border-color: #FFD700;">
                            <option value="">Ø§Ø®ØªØ± Ø¨Ù„Ø¯ Ø§Ù„ØµÙ†Ø¹</option>
                            ${availableCountries.map(country => 
                                `<option value="${country}" ${country === countryArabic ? 'selected' : ''}>${country}</option>`
                            ).join('')}
                        </select>
                    </td>
                    <td class="px-4 py-3 border-b" style="border-color: #333;">
                        <select id="${yearSelectId}" class="w-full px-2 py-1 rounded border focus:outline-none" style="background-color: #000000; color: #FFD700; border-color: #FFD700;">
                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø³Ù†Ø©</option>
                            ${availableYears.map(year => 
                                `<option value="${year}" ${year === result.year ? 'selected' : ''}>${year}</option>`
                            ).join('')}
                        </select>
                    </td>
                    <td class="px-4 py-3 font-bold border-b" style="color: #FFD700; border-color: #333;">${result.price}</td>
                    <td class="px-4 py-3 text-center border-b" style="border-color: #333;">
                        <button class="copy-btn px-4 py-2 rounded text-black font-bold hover:opacity-90 transition-opacity" style="background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);">
                            ${copyButtonText}
                        </button>
                    </td>
                `;
                
                const copyBtn = row.querySelector('.copy-btn');
                copyBtn.addEventListener('click', () => {
                    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ø±ÙƒØ©
                    let finalBrand = brandArabic;
                    if (!result.brand || !result.brand.trim()) {
                        const brandInput = document.getElementById(brandInputId);
                        finalBrand = brandInput ? brandInput.value.trim() : '';
                        
                        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ø§Ø±ÙƒØ©
                        if (!finalBrand) {
                            showToast('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ø±ÙƒØ© Ø£ÙˆÙ„Ø§Ù‹');
                            if (brandInput) {
                                brandInput.style.borderColor = '#EF4444';
                                brandInput.focus();
                                setTimeout(() => {
                                    brandInput.style.borderColor = '#FFD700';
                                }, 2000);
                            }
                            return;
                        }
                    }
                    
                    const selectedCountry = document.getElementById(countrySelectId).value;
                    const selectedYear = document.getElementById(yearSelectId).value;
                    
                    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø¨Ù„Ø¯ Ø§Ù„ØµÙ†Ø¹ ÙˆØ§Ù„Ø³Ù†Ø©
                    if (!selectedCountry) {
                        showToast('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø¨Ù„Ø¯ Ø§Ù„ØµÙ†Ø¹ Ø£ÙˆÙ„Ø§Ù‹');
                        document.getElementById(countrySelectId).style.borderColor = '#EF4444';
                        setTimeout(() => {
                            document.getElementById(countrySelectId).style.borderColor = '#FFD700';
                        }, 2000);
                        return;
                    }
                    
                    if (!selectedYear) {
                        showToast('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø³Ù†Ø© Ø£ÙˆÙ„Ø§Ù‹');
                        document.getElementById(yearSelectId).style.borderColor = '#EF4444';
                        setTimeout(() => {
                            document.getElementById(yearSelectId).style.borderColor = '#FFD700';
                        }, 2000);
                        return;
                    }
                    
                    // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ù…Ø§Ø±ÙƒØ© (Ø±Ù† ÙÙ„Ø§Øª Ø£Ùˆ Ø±Ø¨Ø¹ Ø­Ø¬Ø±ÙŠ)
                    let brandInfo = '';
                    if (isRF && isLT) {
                        brandInfo = ' (Ø±Ù† ÙÙ„Ø§Øª - Ø±Ø¨Ø¹ Ø­Ø¬Ø±ÙŠ)';
                    } else if (isRF) {
                        brandInfo = ' (Ø±Ù† ÙÙ„Ø§Øª)';
                    } else if (isLT) {
                        brandInfo = ' (Ø±Ø¨Ø¹ Ø­Ø¬Ø±ÙŠ)';
                    }
                    
                    // Ø§Ù„ØµÙŠØºØ©: (Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ø±ÙƒØ©) (Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©) (Ø¨Ù„Ø¯ Ø§Ù„ØµÙ†Ø¹) Ø³Ù†Ø© Ø§Ù„ØµÙ†Ø¹ . Ø³Ø¹Ø± Ø§Ù„ÙˆØ§Ø­Ø¯ Ø¯.Ùƒ
                    const yearText = selectedYear ? `Ø³Ù†Ø© Ø§Ù„ØµÙ†Ø¹ ${selectedYear}` : '';
                    
                    const copyText = `${finalBrand}${brandInfo} ${selectedCountry} ${yearText}. Ø³Ø¹Ø± Ø§Ù„ÙˆØ§Ø­Ø¯ ${result.price} Ø¯.Ùƒ`;
                    
                    copyToClipboard(copyText, copyBtn);
                });
                
                tbody.appendChild(row);
            });
            
            document.getElementById('resultsCount').textContent = `ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ${results.length} Ù†ØªÙŠØ¬Ø©`;
            document.getElementById('resultsContainer').classList.remove('hidden');
            document.getElementById('noResults').classList.add('hidden');
        }

        async function performSearch() {
            const searchInput = document.getElementById('searchInput').value.trim();
            
            document.getElementById('suggestionsDropdown').classList.add('hidden');
            
            if (!searchInput) {
                document.getElementById('resultsContainer').classList.add('hidden');
                document.getElementById('noResults').classList.add('hidden');
                document.getElementById('brandFilterContainer').classList.add('hidden');
                return;
            }
            
            document.getElementById('errorMessage').classList.add('hidden');
            
            currentSearchResults = searchTires(searchInput);
            
            if (currentSearchResults.length > 0) {
                populateBrandFilter(currentSearchResults);
                filterAndDisplayResults();
            } else {
                document.getElementById('resultsContainer').classList.add('hidden');
                document.getElementById('noResults').classList.remove('hidden');
                document.getElementById('brandFilterContainer').classList.add('hidden');
            }
        }
        
        // Filter toggle functionality
        document.getElementById('filterToggle').addEventListener('click', () => {
            const filterContent = document.getElementById('filterContent');
            const arrow = document.querySelector('.arrow');
            
            if (filterContent.classList.contains('hidden')) {
                filterContent.classList.remove('hidden');
                arrow.classList.add('rotated');
            } else {
                filterContent.classList.add('hidden');
                arrow.classList.remove('rotated');
            }
        });

        document.getElementById('searchButton').addEventListener('click', performSearch);
        
        document.getElementById('searchInput').addEventListener('input', (e) => {
            showSuggestions(e.target.value);
        });
        
        document.getElementById('searchInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                performSearch();
            }
        });
        
        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬ Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø«
        document.addEventListener('click', (e) => {
            const searchInput = document.getElementById('searchInput');
            const dropdown = document.getElementById('suggestionsDropdown');
            if (e.target !== searchInput && !dropdown.contains(e.target)) {
                dropdown.classList.add('hidden');
            }
        });
        
        window.addEventListener('load', async () => {
            await loadGoogleSheetsData();
        });

        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities: (config) => ({
                    recolorables: [],
                    borderables: [],
                    fontEditable: undefined,
                    fontSizeable: undefined
                }),
                mapToEditPanelValues: (config) => new Map([
                    ['site_title', config.site_title || defaultConfig.site_title],
                    ['search_placeholder', config.search_placeholder || defaultConfig.search_placeholder],
                    ['search_button_text', config.search_button_text || defaultConfig.search_button_text],
                    ['copy_button_text', config.copy_button_text || defaultConfig.copy_button_text]
                ])
            });
        }
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c51941907e5d1a4',t:'MTc2OTYxNDcyNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
